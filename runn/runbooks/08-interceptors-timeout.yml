desc: "08 â€” Timeout: fast OK, slow DEADLINE_EXCEEDED"
runners:
  greq:
    addr: server:5000
    tls: false
steps:
  fast_request:
    desc: "SlowMethod with 100ms delay completes OK (timeout=3000ms)"
    greq:
      test.v1.TestService/SlowMethod:
        message:
          delay_ms: 100
    test: |
      current.res.status == 0 &&
      current.res.message.message == 'Completed after 100ms'

  zero_delay:
    desc: "SlowMethod with 0ms delay completes instantly"
    greq:
      test.v1.TestService/SlowMethod:
        message:
          delay_ms: 0
    test: |
      current.res.status == 0 &&
      current.res.message.message == 'Completed after 0ms'

  slow_request:
    desc: "SlowMethod with 5000ms delay returns DEADLINE_EXCEEDED (timeout=3000ms)"
    greq:
      test.v1.TestService/SlowMethod:
        message:
          delay_ms: 5000
    test: |
      current.res.status == 4
